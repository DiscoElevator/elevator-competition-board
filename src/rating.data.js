import sortBy from "lodash/sortBy";
import take from "lodash/take";
import maxBy from "lodash/maxBy";
import assign from "lodash/assign";
import fill from "lodash/fill";
import partial from "lodash/partial";
import io from "socket.io-client";

export {subscribeToRating};

const EMPTY_RATING_RECORD = {
	place: 0,
	points: 0,
	name: "",
	level: 0,
	avatar: ""
};

const RAW_RATING = [
	{
		points: 5 * 1000,
		name: "Русский",
		level: 5,
		avatar: "data:image/jpeg;base64,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"
	},
	{
		points: 10 * 1000,
		name: "Foo",
		level: 10,
		avatar: "data:image/jpeg;base64,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"
	}
];

function subscribeToRating(callback) {
	// socket
	const socket = io("http://localhost:8090");
	socket.on("scores_changed", data => {
		console.log("change", data);
		callback(getNormalizedTop3(data));
	});
	socket.on("connect", () => {
		socket.emit("get_scores");
	});
	// callback(getNormalizedTop3());
	// setInterval(function () {
	// 	callback(getNormalizedTop3());
	// }, 3000);
}

function getNormalizedTop3(rating) {
	// let rating = RAW_RATING;
	// randomize(rating);
	rating = orderRating(rating);
	rating = take(rating, 3);
	rating = rating.concat(fill(Array(3 - rating.length), EMPTY_RATING_RECORD));
	return normalizeRating(rating);
}

// function randomize(rating) {
// 	rating.forEach(ratingRecord => {
// 		ratingRecord.level = parseInt(1 + Math.random() * 10);
// 		ratingRecord.score = 100 * ratingRecord.level +  100 * Math.random();
// 	});
// }

function orderRating(rating) {
	rating = sortBy(rating, ratingRecord => -ratingRecord.points);
	return rating.map((ratingRecord, index) => {
		return assign({}, ratingRecord, {
			place: index + 1
		});
	});
}

function normalizeRating(rating) {
	const bestRatingRecord = maxBy(rating, "points");
	return rating.map(partial(normalizeRatingRecord, bestRatingRecord));
}

function normalizeRatingRecord(bestRatingRecord, ratingRecord) {
	if (bestRatingRecord && bestRatingRecord.points) {
		return assign({}, ratingRecord, {
			points: ratingRecord.points * 100 / bestRatingRecord.points
		});
	} else {
		return ratingRecord;
	}
}
